# üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è HTMLPageGen

## üöÄ –û–±–∑–æ—Ä API

HTMLPageGen –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π REST API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü —Å –ø–æ–º–æ—â—å—é –ò–ò. –í—Å–µ endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç JSON —Ñ–æ—Ä–º–∞—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª—é—á–∏ DeepSeek –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ò–ò-—Å–µ—Ä–≤–∏—Å–æ–º. –ö–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üìã Endpoints

### üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML

**POST** `/api/generate`

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è.

#### –ó–∞–ø—Ä–æ—Å

```typescript
interface GenerateRequest {
  title: string; // –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  content: string; // –û–ø–∏—Å–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
  template: "basic" | "modern" | "minimal" | "business" | "blog";
  style?: "light" | "dark" | "blue" | "purple";
  features?: string[]; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
  ai_enhance?: boolean; // –í–∫–ª—é—á–∏—Ç—å –ò–ò-—É–ª—É—á—à–µ–Ω–∏—è
}
```

#### –û—Ç–≤–µ—Ç

```typescript
interface GenerateResponse {
  html: string; // –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML –∫–æ–¥
  meta: {
    generation_time: number; // –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ –º—Å
    template_used: string; // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω
    ai_enhanced: boolean; // –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –ª–∏ –ò–ò-—É–ª—É—á—à–µ–Ω–∏—è
    seo_score: number; // SEO –æ—Ü–µ–Ω–∫–∞ (0-100)
    word_count: number; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤
    meta_tags: {
      title: string;
      description: string;
      keywords: string;
    };
  };
  plugins_applied: string[]; // –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
  generation_time: number; // –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
}
```

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X POST http://localhost:3000/api/generate \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–ú–æ–π —Å—Ç–∞—Ä—Ç–∞–ø",
    "content": "–õ–µ–Ω–¥–∏–Ω–≥ –¥–ª—è IT-—Å—Ç–∞—Ä—Ç–∞–ø–∞ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º",
    "template": "modern",
    "style": "dark",
    "features": ["responsive", "seo"],
    "ai_enhance": true
  }'
```

### üí¨ –ò–ò –ß–∞—Ç

**POST** `/api/deepseek`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ò–ò-—á–∞—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏ –∏ —Å–æ–≤–µ—Ç–æ–≤.

#### –ó–∞–ø—Ä–æ—Å

```typescript
interface ChatRequest {
  messages: Array<{
    role: "user" | "assistant" | "system";
    content: string;
  }>;
  stream?: boolean; // –ü–æ—Ç–æ–∫–æ–≤—ã–π –æ—Ç–≤–µ—Ç
  temperature?: number; // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (0.0-2.0)
  max_tokens?: number; // –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
}
```

#### –û—Ç–≤–µ—Ç

```typescript
interface ChatResponse {
  success: boolean;
  message: string; // –û—Ç–≤–µ—Ç –ò–ò
  usage?: {
    prompt_tokens: number;
    completion_tokens: number;
    total_tokens: number;
  };
}
```

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X POST http://localhost:3000/api/deepseek \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [
      {
        "role": "user",
        "content": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω?"
      }
    ],
    "temperature": 0.7,
    "max_tokens": 1000
  }'
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
DEEPSEEK_API_KEY=sk-your-api-key-here

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
DEEPSEEK_MODEL=deepseek-chat          # –ú–æ–¥–µ–ª—å –ò–ò
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MAX_TOKENS=3000              # –ú–∞–∫—Å. —Ç–æ–∫–µ–Ω—ã
DEEPSEEK_TEMPERATURE=0.7              # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
```

### –õ–∏–º–∏—Ç—ã

- **–†–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**: –î–æ 10MB
- **–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è**: 30 —Å–µ–∫—É–Ω–¥
- **Rate limiting**: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å (DeepSeek)
- **–ú–∞–∫—Å. —Ç–æ–∫–µ–Ω—ã**: 4000 –Ω–∞ –∑–∞–ø—Ä–æ—Å

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ          | –†–µ—à–µ–Ω–∏–µ                       |
| --- | ----------------- | ----------------------------- |
| 400 | –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å   | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö       |
| 401 | –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á | –û–±–Ω–æ–≤–∏—Ç–µ DEEPSEEK_API_KEY     |
| 429 | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç    | –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∏–ª–∏ —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ | –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ              |

### –ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫

```json
{
  "success": false,
  "message": "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ DeepSeek",
  "error": "insufficient_balance",
  "details": "Current balance: $0.00"
}
```

```json
{
  "success": false,
  "message": "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤",
  "error": "rate_limit_exceeded",
  "retry_after": 3600
}
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏

API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—à–∏–±–∫–∏ –ø–æ —Ç–∏–ø–∞–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### Health Check

**GET** `/api/health`

```json
{
  "status": "healthy",
  "timestamp": "2025-07-05T10:00:00Z",
  "version": "1.0.0",
  "services": {
    "deepseek": "connected",
    "database": "connected"
  }
}
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞

- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- Rate limiting –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
2. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ API –∫–ª—é—á–∞–º
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –Ω–µ–æ–±—ã—á–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
4. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

```javascript
// –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML
test("–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã", async () => {
  const response = await fetch("/api/generate", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      title: "–¢–µ—Å—Ç",
      content: "–ü—Ä–æ—Å—Ç–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞",
      template: "minimal",
    }),
  });

  const data = await response.json();
  expect(data.html).toContain("<html>");
  expect(data.meta.seo_score).toBeGreaterThan(0);
});

// –¢–µ—Å—Ç —á–∞—Ç–∞
test("–ò–ò –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å", async () => {
  const response = await fetch("/api/deepseek", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      messages: [{ role: "user", content: "–ü—Ä–∏–≤–µ—Ç!" }],
    }),
  });

  const data = await response.json();
  expect(data.success).toBe(true);
  expect(data.message).toBeTruthy();
});
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- –°–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ gzip
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –ò–ò
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
2. –ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ç–æ–∫–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —á–∞—Ç–∞
4. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

---

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è DeepSeek](https://platform.deepseek.com/docs)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ](SETUP_GUIDE.md)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](examples/)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](BEST_PRACTICES.md)
